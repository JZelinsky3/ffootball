<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Running Backs</title>
  <link rel="stylesheet" href="rbs/rbs.css" />
</head>
<body>

  <!-- Fixed header elements -->
  <header class="header-bg">
    <div class="header-content">

      <nav class="main-nav">
        <a href="../index.html" class="nav-link">Home</a>
        <a href="../averages/averages.html" class="nav-link">Ranking</a>
        
        <div class="dropdown">
        <button class="dropbtn">Draft</button>
          <div class="dropdown-content">
            <a href="/draft/draft.html">Overview</a>
            <a href="/draft/available.html">Strategy</a>
            <a href="/draft/board.html">Board</a>
          </div>
        </div>

        <div class="dropdown">
          <button class="dropbtn">Positions</button>
          <div class="dropdown-content">
            <a href="../positions/qbs.html">QBs</a>
            <a href="../positions/wrs.html">WRs</a>
            <a href="../positions/tes.html">TEs</a>
          </div>
        </div>
      </nav>

      <div class="title-container">
        <h1>Running Backs</h1>
      </div>

      <div class="search-box">
        <input type="text" id="search-box" placeholder="Search players..." />
      </div>

    </div>
  </header>

  <!-- Scrollable table container -->
  <div class="scroll-container">
    <table id="averages-table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Team</th>
          <th>ADP</th>
          <th>Position Rank</th>
        </tr>
      </thead>
      <tbody id="player-body"></tbody>
    </table>
  </div>

  <script>
    const playerBody = document.getElementById('player-body');
    const searchBox = document.getElementById('search-box');

    async function loadPlayers() {
      const res = await fetch('rbs/rbs.json');
      const players = await res.json();

      function renderRows(filteredPlayers) {
        playerBody.innerHTML = '';
        filteredPlayers.forEach(player => {
          const tr = document.createElement('tr');
          tr.classList.add('RB');
          tr.innerHTML = `
            <td>${player.name}</td>
            <td>${player.team || 'â€”'}</td>
            <td>${player.adp}</td>
            <td>${player.posRank}</td>
          `;
          playerBody.appendChild(tr);
        });
      }

      // Initial render
      renderRows(players);

      // Filter on search input
      searchBox.addEventListener('input', () => {
        const searchTerm = searchBox.value.toLowerCase();
        const filtered = players.filter(p => p.name.toLowerCase().includes(searchTerm));
        renderRows(filtered);
      });
    }

    loadPlayers();
  </script>

</body>
</html>
